{% block javascripts %}
{{ encore_entry_script_tags('leaflet') }}
{% endblock %}

<h1 class="mt-5 mb-3">{{ hike.title }}</h1>
<div class="row mt-5">

	<div class="col-xl-3">

		<div class=" {{ theme == "summer" ? "bg-primary-container" : "bg-secondary-container" }} p-4 paragraph-container card-shadow rounded h-100">

			<div class="my-2 mt-xl-3">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-fill" viewbox="0 0 16 16">
					<path fill-rule="evenodd" d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"/>
				</svg>
				<span class="fw-bold">Départ :</span>
				<span>{{ hike.location.city}}</span>
			</div>
			<div class="my-2">
				<span>
					<svg width="16px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512"><path d="M288 48c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM243.3 230.7L224.2 307l49.7 49.7c9 9 14.1 21.2 14.1 33.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V397.3l-73.9-73.9c-15.8-15.8-22.2-38.6-16.9-60.3l20.4-84c8.3-34.1 42.7-54.9 76.7-46.4c19 4.8 35.6 16.4 46.4 32.7L305.1 208H336V184c0-13.3 10.7-24 24-24s24 10.7 24 24v55.8c0 .1 0 .2 0 .2s0 .2 0 .2V488c0 13.3-10.7 24-24 24s-24-10.7-24-24V272H296.6c-16 0-31-8-39.9-21.4l-13.3-20zM81.1 471.9L117.3 334c3 4.2 6.4 8.2 10.1 11.9l41.9 41.9L142.9 488.1c-4.5 17.1-22 27.3-39.1 22.8s-27.3-22-22.8-39.1zm55.5-346L101.4 266.5c-3 12.1-14.9 19.9-27.2 17.9l-47.9-8c-14-2.3-22.9-16.3-19.2-30L31.9 155c9.5-34.8 41.1-59 77.2-59h4.2c15.6 0 27.1 14.7 23.3 29.8z"/></svg>
				</span>
				<span class="fw-bold">Type :</span>
				<span>{{ hike.type }}</span>
			</div>
			<div class="my-2">
				<span><img src="{{ asset('build/images/placeholder/speedometer.png')}}" alt="Miniature" width="16px"></span>
				<span class="fw-bold">Difficulté :</span>
				<span>{{ hike.difficulty ~ " / 5" }}<span></div>
					<div class="my-2">
						<span>
							<svg width="16px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512"><path d="M0 336c0 26.5 21.5 48 48 48l544 0c26.5 0 48-21.5 48-48l0-160c0-26.5-21.5-48-48-48l-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0c-26.5 0-48 21.5-48 48L0 336z"/></svg>
						</span>
						<span class="fw-bold">Distance :</span>
						<span>{{ hike.distance ~ "km"}}</span>
					</div>
					<div class="my-2">
						<span>
							<svg width="16px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><path d="M256 32c12.5 0 24.1 6.4 30.7 17L503.4 394.4c5.6 8.9 8.6 19.2 8.6 29.7c0 30.9-25 55.9-55.9 55.9H55.9C25 480 0 455 0 424.1c0-10.5 3-20.8 8.6-29.7L225.2 49c6.6-10.6 18.3-17 30.8-17zm65 192L256 120.4 176.9 246.5 208 288l48-64h65z"/></svg>
						</span>
						<span class="fw-bold">Dénivelé positif :</span>
						<span>{{ hike.elevation ~ "m"}}</span>
					</div>
					<div class="my-2">
						<svg width="16px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512">
							<path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"/>
						</svg>
						<span class="fw-bold">Notes moyenne :</span>
						<span>{{ averageRate == 0 ? "??" : averageRate }}</span>
					</div>

				</div>

			</div>

			<div class="col-xl-9">
				<div class="p-4 box-shadow-bot rounded">
					<h4>{{ hike.short }}</h4>
					<div>{{ hike.description|nl2br }}</div>
				</div>
			</div>
		</div>

        {% if hike.location.longitude is not null and hike.location.latitude is not null %}
        <div class="mt-5">
        <h3>Localisation</h3>
        <div id="map" data-longitude={{ hike.location.longitude }} data-latitude={{ hike.location.latitude }}></div>
        </div>
        {% endif %}

		<div class="mt-5">
			<article class="mt-4 paragraph-container box-shadow-bot rounded px-4 py-5">
				<h3>Parcours</h3>
				<div>{{ hike.route|nl2br }}</div>
			</article>

			<div class="my-3 p-4">
				<div class="col-lg-10">
					<h2 class="">Points d'intérêt</h2>
					{% for poi in hike.pointOfInterests %}
						<div class="card-shadow rounded-sm my-3">
							<div class="row">
								{% if poi.poster is not null %}
									<div class="col-lg-4">
										<img class="thumbnail rounded-sm" src="{{ vich_uploader_asset(poi) }} " alt="Point d'interêt">
									</div>
								{% endif %}
								<article class="col-lg-8">
									<div class="d-flex flex-column justify-content-center p-3 h-100">
										<div class="fs-4">{{ poi.title }}</div>
										<div>{{ poi.description|nl2br }}</div>
									</div>
								</article>
							</div>
						</div>
					{% endfor %}
				</div>
			</div>
			<div>
